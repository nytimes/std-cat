<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://www.w3.org/Tools/respec/respec-w3c" async class="remove"></script>
    <title>Content Aggregation Technology (CAT)</title>
    <script class="remove">
      var respecConfig = {
        specStatus: 'ED',
        editors: [{
          name: 'Robin Berjon',
          company: 'The New York Times',
          companyURL: 'https://nytimes.com/',
          url: 'https://berjon.com/',
        }],
        github: 'https://github.com/nytimes/std-cat',
        edDraftURI: 'https://nytimes.github.io/std-cat/',
        shortName: 'cat',
        localBiblio: {
          AMP: {
            title: 'Accelerated Mobile Pages',
            href: 'https://amp.dev/',
            authors: ['Google'],
            status: 'Proprietary Format',
          },
          'APPLE-NEWS-FORMAT': {
            title: 'Apple News Format',
            href: 'https://developer.apple.com/documentation/apple_news/apple_news_format',
            authors: ['Apple'],
            status: 'Proprietary Format',
          },
          CAROUSEL: {
            title: 'Carousels: A History',
            href: 'https://twitter.com/heydonworks/status/986918827857506304',
            authors: ['Heydon Pickering'],
            date: '19 April 2018',
            status: 'Final Word',
          },
          'CDF-SUBM': {
            title: 'Channel Definition Format (CDF)',
            href: 'https://www.w3.org/TR/NOTE-CDFsubmit.html',
            authors: ['Castedo Ellerman'],
            date: '09 March 1997',
            status: 'Member Submission',
          },
          FBIA: {
            title: 'Facebook Instant Articles',
            href: 'https://developers.facebook.com/docs/instant-articles',
            authors: ['Facebook'],
            status: 'Proprietary Format',
          },
          'RSS-MEDIA-TYPE': {
            title: 'The application/rss+xml Media Type draft-nottingham-rss-media-type-00',
            href: 'https://tools.ietf.org/id/draft-nottingham-rss-media-type-00.txt',
            authors: ['Mark Nottingham'],
            date: '23 October 2001',
            status: 'Expired',
          },
          WP: {
            title: 'Web Packages',
            href: 'https://github.com/WICG/webpackage',
            authors: ['Jeffrey Yasskin'],
            date: '07 May 2020',
            status: 'Draft (index page for split specification)',
          },
        },
      };
    </script>
  </head>
  <body>
    <section id="abstract">
      <p>
        This document analyses the respective merits of different approaches to content aggregation
        on the Web, and builds atop this comparative analysis to outline an architecture and
        requirements for a technology to support content aggregation as practiced today on the Web
        by search engines, social media, and syndication services, in a manner that follows the
        <a href="https://www.w3.org/TR/html-design-principles/#priority-of-constituencies">Priority
        of Constituencies</a>, notably in privileging user experience, user privacy, as well as
        simplicity and control for authors (also often known as "<em>publishers</em>")
        [[html-design-principles]].
      </p>
      <p>
        Content aggregation involves every constituency of the Web. A core goal of this document is
        to provide a backbone to elaborate content aggregation solutions that prioritise consensus
        over the unilateral imposition of technology through excessive market power.
      </p>
    </section>
    <section id="sotd"></section>
    <section>
      <h2>Introduction</h2>
      <p>
        "<em>A defining characteristic of the Web is that it allows embedded references to other
        resources</em>" [[!webarch]]. As such, content aggregation — the curation of lists of
        content external to one's control — is as old as the Web itself and has gone through
        multiple embodiments over the decades. This historical perspective allows us to tease out
        best practices from ones that produce problematic outcomes.
      </p>
    </section>
    <section>
      <h2>Brief Overview of Existing Solutions</h2>
      <p>
        The initial aggregation format is simply HTML [[HTML]], which with its hypertext linking
        capabilities has enabled the curation resources since its inception. Widespread interest in
        allowing publishers to "push" content to users led to a codification of publisher/reader
        interactions in open protocols such as the Channel Definition Format [[CDF-SUBM]], the RDF
        Site Summary (later rebranded as Rich Site Summary and Really Simple Syndication)
        [[RSS-MEDIA-TYPE]], and Atom [[rfc4287]]. These formats mix machine-readable metadata about
        content which makes it easy to present lists of resources in a user-friendly manner, links
        to the content, and sometimes the possibility to include the entirety of the source as HTML
        (depending on publisher choice).
      </p>
      <p>
        In more recent times, a flurry of aggregator-dominated formats have emerged. They feature
        varying degrees of sophistication but have in common that they require publishers to recast
        their content into a language covering a subset of the Web platform that can be limited, as
        is the case with Accelerated Mobile Pages defined by Google and also used by Microsoft Bing
        and Twitter [[AMP]], or severely limited, as with the Apple New Format [[APPLE-NEWS-FORMAT]]
        or Facebook Instant Articles [[FBIA]]. These technologies have slightly different areas of
        focus, which can be bundling for portals (AMP), for apps (ANF), or for social media (FBIA)
        but from the perspective of users and publishers they are more alike than different as a
        set of proprietary formats with largely comparable properties.
      </p>
      <p>
        A more recent proposal, Web Packages [[WP]], has recently been discussed by the Web and
        Internet communities. It attempts to make content distribution <em>look like</em> content
        linking. While this does lead to some improvements (as discussed below) this proposal has
        yet to garner any consensus.
      </p>
    </section>
    <section>
      <h2>Assessment Methodology</h2>
      <p>
        Tk
      </p>
    </section>
    <section>
      <h2>Potential Architectures</h2>
      <p>
        Tk
      </p>
      <section>
        <h2>Links</h2>
        <p>
          Tk
        </p>
        <p>
          Tk
          This initially enabled the separation of discoverability from distribution: you could curate
          lists of content simply by linking to that content, but the publisher remained in control of
          their own distribution, with all the advantages that implies in terms of improved user
          experience, disintermediation, and privacy.
          This lead to an environment in which the relationship between discoverability services and
          publishers stood at the mutualistic end of the mutualistic-parasitic axis.
          As the market power of discoverability services has steadily increased, the digital
          environment has become one in which publishers have increasingly lost the ability to
          manage the distribution of their own content (AMP, etc.).
          SXG tries to make distribution look like linking. As such, it does present improvements, but
          it is a major architectural change performed to solve a problem that it only created if
          discoverability intermediaries insist on carrying the content themselves. This problem can
          be solved equally well through linking.
        </p>
      </section>
      <section>
        <h2>Aggregator-Dominated Bundling</h2>
        <p>
          Tk
        </p>
      </section>
      <section>
        <h2>Cooperative Syndication</h2>
        <p>
          Tk
        </p>
      </section>
    </section>
    <section>
      <h2>Requirements for Cooperative Syndication</h2>
      <p>
        Tk
      </p>
    </section>
    <!--
      - clearly define SXG as deceptive
      - explain that there are three models:
        * links
        * load content from aggregator, violate user privacy
        * load content from publisher, violate user privacy less
      - explain the problem with the fact that an aggregator can self-preference by maintaining user
        identity in a <portal> that loads a bundle, that then can easily be reidentified if ads are
        loaded from the aggregator too
      NOTES

      <p>
        Rather than have publishers provide labour for aggregators (search, social, syndicators),
        this document establishes a standard enabling aggregation such that minimal investment is
        necessary on the side of publishers while maximal quality is ensured in terms of user
        experience.
      </p>
      <p>
        Tk privacy, easy, why not RSS/Atom
      </p>
      <p>
        Tk the basic way in which this works is:
      </p>
      <ul>
        <li>
          The signal that content is available for aggregation is the use of a bundle
          [[!web-packaging]].
        </li>
        <li>
          A <code>portal</code> element can be used to point to a bundle. However when that happens
          the bundle itself is not rendered but rather a <a>card view</a> of it is. The user agent
          may of course at that point prefetch the bundle so as to be ready to render it quickly
          when the <code>portal</code> is activated.
        </li>
        <li>
          <p>
            The card view is generated by bundle metadata and fed into a portal template to render
            the card.
          </p>
          <pre class="example">
            &lt;portal src="https://berjon.com/the-confusion/">
              &lt;template>
                &lt;article>
                  &lt;h1>&lt;slot name="bundle.name">Untitled&lt;/slot>&lt;/h1>
                  &lt;slot name="bundle.image">&lt;img src="generic-site.png">&lt;/slot>
                  &lt;p>&lt;slot name="bundle.description">&lt;/slot>&lt;/p>
                &lt;/article>
              &lt;/template>
              ...fallback...
            &lt;/portal>
          </pre>
        </li>
        <li>
          Bundle preloads are made using stateless requests.
        </li>
        <li>
          A <code>portal</code> supports CSS states such that it can be styled as "loading" or in
          "error". It should also have an "activated" state that is never rendered (since the site
          takes over) but that can be transitioned to with an animation.
        </li>
        <li>
          Portals should support
          <a href="https://wicg.github.io/ad-click-attribution/index.html">Private Click Measurement</a>.
        </li>
        <li>
          Metadata entry in bundles (same as for primary entry); fall back to processing the primary
          HTML resource.
        </li>
        <li>
          Use schema.org.
        </li>
        <li>
          Use a set of machine-readable licenses that work for us.
        </li>
        <li>
          Hooks for a wallet-based sub standard?
        </li>
        <li>
          Note that providing a carousel of live sites is explicitly not a use case as that is
          hostile to publishers since it allows a site to constrain the navigation of another. This
          is an aggressively hostile takeover practice that should not be condoned by the Web
          architecture.
        </li>
        <li>
          Could <code>portal</code> be made extensible to other rendering modes?
        </li>
        <li>
          Should we try to use <code>portal</code> for declarative ads? It's probably better to make
          the navigation method reusable by an <code>ad</code> element. Also, the <code>ad</code>
          element should <em>not</em> have a way to get to its predecessor.
        </li>
        <li>
          Privacy-preserving fetch from search engine in order to preload bundle previews. Limit it
          to previews so that we don't run into paywall issues.
        </li>
    -->

    <!--
    <portal src="https://berjon.com/the-confusion/">
      <template>
        <article>
          <h1>{title || "Untitled"}</h1>
          <img src={image || "generic-site.png"}>
          <p>{description}</p>
        </article>
      </template>
      ...fallback...
    </portal>
    We want:
    • portal
    •
    -->
    <section id="conformance"></section>
  </body>
</html>
