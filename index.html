<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="https://www.w3.org/Tools/respec/respec-w3c" async class="remove"></script>
    <title>Content Aggregation Technology (CAT)</title>
    <script class="remove">
      var respecConfig = {
        specStatus: 'ED',
        editors: [{
          name: 'Robin Berjon',
          company: 'The New York Times',
          companyURL: 'https://nytimes.com/',
          url: 'https://berjon.com/',
        }],
        github: 'https://github.com/nytimes/std-cat',
        edDraftURI: 'https://nytimes.github.io/std-cat/',
        shortName: 'cat',
      };
    </script>
  </head>
  <body>
    <section id="abstract">
      <p>
        This document describes a set of technologies that can be used together to support content
        aggregation as practiced today on the Web by search engines, social media, and syndication
        services, in a manner that follows the
        <a href="https://www.w3.org/TR/html-design-principles/#priority-of-constituencies">Priority of Constituencies</a>
        notably in providing privacy for users as well as simplicity and control for authors (also
        often known as "<em>publishers</em>") [[html-design-principles]].
      </p>
    </section>
    <section id="sotd">
      <p>
        Tk
      </p>
    </section>
    <section>
      <h2>Requirements</h2>
      <p>
        Tk
      </p>
      <p>
        Rather than have publishers provide labour for aggregators (search, social, syndicators),
        this document establishes a standard enabling aggregation such that minimal investment is
        necessary on the side of publishers while maximal quality is ensured in terms of user
        experience.
      </p>
      <p>
        Tk privacy, easy, why not RSS/Atom
      </p>
      <p>
        Tk the basic way in which this works is:
      </p>
      <ul>
        <li>
          The signal that content is available for aggregation is the use of a bundle
          [[!web-packaging]].
        </li>
        <li>
          A <code>portal</code> element can be used to point to a bundle. However when that happens
          the bundle itself is not rendered but rather a <a>card view</a> of it is. The user agent
          may of course at that point prefetch the bundle so as to be ready to render it quickly
          when the <code>portal</code> is activated.
        </li>
        <li>
          <p>
            The card view is generated by bundle metadata and fed into a portal template to render
            the card.
          </p>
          <pre class="example">
            &lt;portal src="https://berjon.com/the-confusion/">
              &lt;template>
                &lt;article>
                  &lt;h1>&lt;slot name="bundle.title">Untitled&lt;/slot>&lt;/h1>
                  &lt;slot name="bundle.image">&lt;img src="generic-site.png">&lt;/slot>
                  &lt;p>&lt;slot name="bundle.description">&lt;/slot>&lt;/p>
                &lt;/article>
              &lt;/template>
              ...fallback...
            &lt;/portal>
          </pre>
        </li>
        <li>
          Bundle preloads are made using stateless requests.
        </li>
        <li>
          A <code>portal</code> supports CSS states such that it can be styled as "loading" or in
          error.
        </li>
        <li>
          Portals should support
          <a href="https://wicg.github.io/ad-click-attribution/index.html">Private Click Measurement</a>.
        </li>
      </ul>
    </section>

    <!--
    <portal src="https://berjon.com/the-confusion/">
      <template>
        <article>
          <h1>{title || "Untitled"}</h1>
          <img src={image || "generic-site.png"}>
          <p>{description}</p>
        </article>
      </template>
      ...fallback...
    </portal>
    We want:
    • portal
    •
    -->
    <section id="conformance"></section>
  </body>
</html>
